"use strict";(self.webpackChunkunsplash=self.webpackChunkunsplash||[]).push([[736],{3736:function(e,a,s){s.r(a),s.d(a,{default:function(){return z}});var r=s(2791),n=s(4431),i=s(4233),l=s(184),o=function(e){return(0,l.jsx)("div",{className:"modalbody__header-icons",children:e.children})},t=s(6032),c=function(e){var a=e.author,s=e.urls;return(0,l.jsx)("img",{alt:a,className:"modalbody__image fade-in",sizes:"(max-width: 767px) 100vw, (max-width: 532px) 500px, (max-height: 521px) 500px, (min-aspect-ratio: 3711/2562) calc((calc(100vh - 175px)) * 1.44848), calc(100vw - 32px)",srcSet:s})},d=function(e){return(0,l.jsx)("div",{className:"modalbody__header-author",children:(0,l.jsx)("div",{className:"author-data",children:e.children})})},u=function(e){var a=e.author,s=e.twitter;return(0,l.jsxs)("div",{className:"modalbody__header-name-twitter",children:[(0,l.jsx)("div",{className:"modalbody__header-name",children:a}),s&&(0,l.jsx)("div",{className:"modalbody__header-twitter",children:"@"+s})]})},m=function(e){return(0,l.jsx)("div",{className:"modalbody__header-face",children:(0,l.jsx)("img",{className:"modalbody__header-image",src:e.profileImageLink,alt:e.author})})},h=function(e){return(0,l.jsx)("div",{className:"modalbody__header-author footer",children:e.children})},x=s(2767),f=function(e){var a=e.location;return(0,l.jsx)(h,{children:a&&(0,x.nw)(t.Z.Location,a)})},j=function(){var e=(0,i.I0)();return(0,l.jsx)("div",{className:"modal-close__wrapper",children:(0,l.jsx)("button",{"aria-label":"Close",className:"modal-close__button",type:"button",onClick:function(){return e({type:"MODAL_HIDE"})},children:(0,l.jsx)(t.Z.Close,{})})})},_=function(e){return(0,l.jsx)("div",{className:"modalbody__container fade-in",children:e.children})},b=s(763),v=s(8813),p=s(9232),g=function(){var e=(0,i.v9)(p.H_),a=(0,v.Z)().setImageIdForModal,s=r.useCallback((0,b.debounce)((function(){e&&a(e)}),100),[e]);return(0,l.jsx)("aside",{className:"modalbody__aside right",onClick:s,children:(0,l.jsx)("div",{className:"modalbody__arrow-box",children:(0,l.jsx)(t.Z.Next,{className:e?"modalbody__arrow-svg visible":"modalbody__arrow-svg"})})})},w=function(){var e=(0,i.v9)(p.eK),a=(0,v.Z)().setImageIdForModal,s=r.useCallback((0,b.debounce)((function(){e&&a(e)}),100),[e]);return(0,l.jsx)("aside",{className:"modalbody__aside left",onClick:s,children:(0,l.jsx)("div",{className:"modalbody__arrow-box",children:(0,l.jsx)(t.Z.Previous,{className:e?"modalbody__arrow-svg visible":"modalbody__arrow-svg"})})})},N=r.forwardRef((function(e,a){var s=(0,i.v9)(p.L4),r=s.location,n=s.author,h=s.twitter,b=s.urls,v=s.profileImage;return b?(0,l.jsxs)(_,{children:[(0,l.jsx)(j,{}),(0,l.jsx)(w,{}),(0,l.jsxs)("article",{className:"modalbody",children:[(0,l.jsxs)("header",{className:"modalbody__header",children:[(0,l.jsxs)(d,{children:[(0,l.jsx)(m,{profileImageLink:v,author:n}),(0,l.jsx)(u,{author:n,twitter:h})]}),(0,l.jsxs)(o,{children:[(0,l.jsx)(x.UO,{ariaLabel:"Like",children:(0,l.jsx)(t.Z.Like,{})}),(0,l.jsx)(x.UO,{ariaLabel:"Add",children:(0,l.jsx)(t.Z.Add,{})})]})]}),(0,l.jsx)(c,{author:n,urls:b}),(0,l.jsxs)("footer",{className:"modalbody__header footer",children:[(0,l.jsx)(f,{location:r}),(0,l.jsx)(x.UO,{ariaLabel:"Share",children:(0,x.nw)(t.Z.Share,"Share")}),(0,l.jsx)(x.UO,{ariaLabel:"Info",children:(0,x.nw)(t.Z.Info,"Info")})]})]}),(0,l.jsx)(g,{})]}):null}));var y=(0,i.$j)((function(e){return{isModalVisible:e.modal.isVisible}}),{})((function(e){var a=e.isModalVisible;return(0,l.jsx)("div",{children:(0,l.jsx)(n.Z,{open:a,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",id:"my-modal",children:(0,l.jsx)(N,{})})})})),k=s(1305),I=function(e){return(0,l.jsx)("div",{className:"images__background",children:e.children})},Z=s(8144),L=s(1413),C=s(1762),M=s(6666),U=s.n(M),A=s(8038),O=(0,i.$j)(null,(function(e){return{fetchImages:function(a){return e((0,A._6)(a))}}}))((function(e){var a=e.id,s=e.user,n=e.description,o=e.urls,t=e.tags,c=e.loadHandler,d=e.fetchImages,u=r.useRef(null),m=(0,v.Z)(),h=m.setImageIdForModal,x=m.showModal,f=(0,i.v9)(p.LA),j=r.useCallback((0,b.debounce)((function(){h(a),x()}),100),[a]);return(0,l.jsxs)("figure",{className:"fotos__box visible fade-in","data-user":"Author: ".concat(s),"data-description":n,children:[(0,l.jsx)("img",{className:"fotos__image",alt:n,sizes:"(min-width: 1335px) 416px, (min-width: 992px) calc(calc(100vw - 72px) / 3), (min-width: 768px) calc(calc(100vw - 48px) / 2), 100vw",srcSet:o,itemProp:"thumbnailUrl",onLoad:function(){var e;null===(e=u.current)||void 0===e||e.classList.add("active"),c&&c()},onError:function(){return c&&c()},onClick:j}),(0,l.jsx)("figcaption",{className:"container-for-tags",ref:u,children:t.map((function(e,a){return(0,l.jsx)("button",{disabled:!f,className:"fotos__tag",tabIndex:0,onClick:function(){d(e.title)},children:" "+e.title||0},a)}))})]})})),R=s(1573),S=function(){var e=(0,R.i)((function(e){return e.images.subject}),i.wU);return(0,l.jsxs)("div",{className:"images__header",children:[(0,l.jsx)("h2",{className:"images__subject",children:e})," "]})},V=function(e){e.inViewport;var a=e.forwardedRef;return(0,l.jsx)("div",{className:"viewport-block",ref:a,children:(0,l.jsx)("div",{style:{width:"400px",height:"200px"}})})},E=(0,C.ZP)(V),F=(0,i.$j)((function(e){return{subject:e.images.subject}}),(function(e){return{fetchImages:function(a){return e((0,A._6)(a))}}}))((function(e){var a=e.fetchImages,s=e.subject,n=(0,i.v9)(p.pk),o=(0,r.useRef)(null),t=(0,r.useRef)(null),c=(0,r.useCallback)((0,b.debounce)((function(){a(s)}),300),[a,s]),d=(0,r.useCallback)((0,b.after)(n.length,(function(){var e,a;null===(e=o.current)||void 0===e||e.classList.add("active"),null===(a=t.current)||void 0===a||a.classList.remove("active")})),[n]);return!n||(0,b.isEmpty)(n)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S,{}),(0,l.jsxs)("section",{className:"fotos__wrapper",children:[(0,l.jsx)("div",{className:"fotos__loading active",ref:t,children:"Loading images"}),(0,l.jsx)("div",{className:"fotos__grid",children:(0,l.jsxs)("article",{className:"fotos__container",id:"fotos__container",ref:o,children:[n.map((function(e){return(0,l.jsx)(O,(0,L.Z)((0,L.Z)({},e),{},{loadHandler:d}),U()())})),(0,l.jsx)(E,{onEnterViewport:function(){return c()}})]})})]})]})})),H=s(5557),P=s(4384),$=(0,x.uk)(k.Z),z=function(){return(0,P.P)(),(0,l.jsxs)(I,{children:[(0,l.jsx)(H.Z,{text:"Matching images"}),(0,l.jsx)(Z.Z,{}),(0,l.jsx)($,{}),(0,l.jsx)(y,{}),(0,l.jsx)(F,{})]})}}}]);
//# sourceMappingURL=736.6cae788b.chunk.js.map