(this.webpackJsonpunsplash=this.webpackJsonpunsplash||[]).push([[1],{10:function(e,n,t){"use strict";t.d(n,"f",(function(){return o})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return i})),t.d(n,"d",(function(){return c})),t.d(n,"c",(function(){return s})),t.d(n,"e",(function(){return u}));var a=t(13),o=function(e){return(e.thumb?e.thumb+" 200w, ":"")+(e.small?e.small+" 400w, ":"")+(e.regular?e.regular+" 1080w, ":"")},r=function(e){return e.map((function(e){var n,t={};return t.id=e.id,t.urls=o(e.urls),t.tags=e.tags,t.description=e.alt_description||e.description||"",t.user=(null===(n=e.user)||void 0===n?void 0:n.name)||e.user.first_name+" "+e.user.last_name,t.modal={name:e.user.name||e.first_name+" "+e.last_name||"",twitter:e.user.twitter_username||""},t}))},i=function(e,n){switch(e){case"/":return"".concat(n," form--search");case"/images":return"".concat(n," form--images");default:return"".concat(n," form--search")}},c=function(e){return Object(a.a)(new Set(e.map((function(e){return e.tags})).flat().map((function(e){return e.title}))))};var s=function(e){return e.map((function(e){return{value:e,label:(n=e,n[0].toUpperCase()+n.slice(1))};var n}))},u=function(e){var n=document.getElementById("root");e?(n.style.background="url(".concat(e,") no-repeat center center fixed"),n.style.backgroundSize="cover"):n.classList.add("root--fallback-background")}},15:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var a={accessKey:"DQqGbYve6sTIg4j9f9EPdU12FLtjyb4hiplBbNECOZA"},o=["flowers","wallpapers","backgrounds","happy","love"]},20:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"g",(function(){return f})),t.d(n,"a",(function(){return b})),t.d(n,"e",(function(){return E})),t.d(n,"f",(function(){return _})),t.d(n,"d",(function(){return S}));var a=t(13),o=t(2),r=t(11),i=t.n(r),c=t(10),s=t(15),u=Object(o.b)("IMAGES_GET"),l=Object(o.b)("HINTS_GET"),d=Object(o.b)("HINTS_CLEAR"),f=Object(o.b)("ERROR_SHOW"),b=Object(o.b)("ERROR_CLEAR"),g=Object(o.b)("COUNT_SET"),h=Object(o.b)("SUBJECT_CHOOSE"),p=Object(o.b)("IMAGES_CLEAR"),v=Object(o.b)("COLLECTION_LENGTH_SET"),m=Object(o.b)("HINTS_MESSAGE_SHOW"),j=Object(o.b)("HINTS_MESSAGE_HIDE"),O=Object(o.b)("GET_BACKGROUND_IMAGE"),w=Object(o.b)("CURRENT_IMAGE_NEIGHBOURS_CHECK"),y={images:[],hints:[],error:{value:!1,code:""},count:0,lastFetchedPage:0,subject:"",collectionLength:0,hintsMessageVisible:!1,backgroundImage:{},currentNeighbours:{}},C=Object(o.c)(y,(function(e){e.addCase(u,(function(e,n){if(n.payload){var t=Object(a.a)(e.images);t.push.apply(t,Object(c.b)(n.payload)),e.images=t,e.lastFetchedPage++}})).addCase(v,(function(e,n){n.payload&&(e.collectionLength=n.payload)})).addCase(w,(function(e,n){if(n.payload){var t=e.images.findIndex((function(e){return n.payload===e.id})),a={};a.pre=0!==t,a.post=t!==e.images.length-1,e.currentNeighbours=a}})).addCase(l,(function(e,n){n.payload&&(e.hints=n.payload),n.payload.length?e.hintsMessageVisible=y.hintsMessageVisible:e.hintsMessageVisible=!0})).addCase(g,(function(e,n){n.payload&&(e.count=n.payload)})).addCase(d,(function(e){e.hints=y.hints})).addCase(O,(function(e,n){e.backgroundImage=n.payload})).addCase(j,(function(e){e.hintsMessageVisible=y.hintsMessageVisible})).addCase(m,(function(e){e.hintsMessageVisible=!0})).addCase(p,(function(e,n){e.lastFetchedPage=y.lastFetchedPage,e.images=y.images,e.subject=n.payload})).addCase(f,(function(e,n){n.payload&&(e.error.value=!0,e.error.code=n.payload)})).addCase(b,(function(e){e.error.value=!1,e.error.code=""})).addCase(h,(function(e,n){n.payload&&(e.subject=n.payload)})).addDefaultCase((function(){}))}));function E(e){return function(n,t){e&&e.length>3?new i.a(s.a).search.photos(e,1,30).then(r.toJson).then((function(e){if(e.errors){var t=e.errors.join(", ");n(f(t))}else n(l(Object(c.c)(Object(c.d)(e.results))))})).catch((function(e){n(f(e.message))})):t().images.hints.length&&n(d())}}function _(e){return function(n,t){var a,o=!1;(t().images.subject===e?t().images.collectionLength>(a=t().images.lastFetchedPage)?o=!0:(o=!1,n(f("Nie ma wi\u0119cej zdj\u0119\u0107 w danej kategorii - nie pr\xf3buj ich pobra\u0107"))):(n(p(e)),a=y.lastFetchedPage,o=!0),o)&&new i.a(s.a).search.photos(e,a+1,30).then(r.toJson).then((function(e){if(e.errors){var t=e.errors.join(", ");n(f(t))}else n(u(e.results)),n(v(e.total_pages))})).catch((function(e){n(f(e.message))}))}}function S(){return function(e){new i.a(s.a).photos.getRandomPhoto({query:"nature",orientation:"landscape"}).then(r.toJson).then((function(n){if(null===n||void 0===n?void 0:n.errors){Object(c.e)();var t=n.errors.join(", ");e(f(t))}else{var a,o,r,i,s,u,l,d,b=window.matchMedia("(max-width: 768px)").matches,g=document.getElementById("root");g.style.backgroundSize="cover";var h=b?(null===(a=n.urls)||void 0===a?void 0:a.small)||(null===(o=n.urls)||void 0===o?void 0:o.regular)||(null===(r=n.urls)||void 0===r?void 0:r.full)||(null===(i=n.urls)||void 0===i?void 0:i.raw):(null===(s=n.urls)||void 0===s?void 0:s.regular)||(null===(u=n.urls)||void 0===u?void 0:u.full)||(null===(l=n.urls)||void 0===l?void 0:l.raw)||(null===(d=n.urls)||void 0===d?void 0:d.small);h?(g.style.background="url(".concat(h,") no-repeat center center fixed"),g.style.backgroundSize="cover",Object(c.e)(h)):(Object(c.e)(),e(f("Can not load background image")))}})).catch((function(n){Object(c.e)(),e(f(n.message))}))}}n.c=C},31:function(e,n,t){"use strict";t.d(n,"b",(function(){return b}));var a=t(2),o=t(11),r=t.n(o),i=t(10),c=t(15),s=t(20),u=Object(a.b)("MODAL_SHOW"),l=Object(a.b)("MODAL_HIDE"),d=Object(a.b)("DETAILS_GET"),f=Object(a.c)({isVisible:!1,details:{},error:""},(function(e){e.addCase(u,(function(e){e.isVisible=!0})).addCase(l,(function(e){e.isVisible=!1})).addCase(d,(function(e,n){if(n.payload){var t,a=n.payload,o=a.data,r=a.neighbours,c={};c.location=(null===(t=o.location)||void 0===t?void 0:t.city)?o.location.city+", "+(o.location.country?o.location.country:""):"",c.author=o.user.name||o.user.last_name||o.user.first_name||"",c.twitter=o.user.twitter_username||"",c.profile_image=o.user.profile_image.small||"",c.urls=o.urls?Object(i.f)(o.urls):"",c.previous=r.previous,c.next=r.next,e.details=c,e.details&&(e.isVisible=!0)}})).addDefaultCase((function(){}))}));function b(e){return function(n,t){new r.a(c.a).photos.getPhoto(e).then(o.toJson).then((function(e){var a=t().images.images,o=a.findIndex((function(n){return e.id===n.id})),r={};r.previous=0===o?null:a[o-1].id,r.next=o===a.length-1?null:a[o+1].id,n(d({data:e,neighbours:r}))})).catch((function(e){n(Object(s.g)(e.message))}))}}n.a=f},44:function(e,n,t){},45:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n),t.d(n,"store",(function(){return T}));var a=t(5),o=t(0),r=t(19),i=t.n(r),c=(t(44),t(29)),s=function(e){return function(n){return Object(a.jsx)(o.Suspense,{fallback:null,children:Object(a.jsx)(e,Object(c.a)({},n))})}},u=(t(45),t(36)),l=t(3),d=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(4),t.e(5)]).then(t.bind(null,156))})),f=Object(o.lazy)((function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,159))}));var b=function(){return Object(a.jsx)(u.a,{basename:"/unsplash",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:s(f)}),Object(a.jsx)(l.a,{exact:!0,path:"/images",component:s(d)})]})})},g=function(e){e&&e instanceof Function&&t.e(7).then(t.bind(null,154)).then((function(n){var t=n.getCLS,a=n.getFID,o=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),a(e),o(e),r(e),i(e)}))},h=t(18),p=t(27),v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var j=t(8),O=t(2),w=t(12),y=t(37),C=t.n(y),E=t(38),_=t(20),S=t(31),k={key:"root",storage:C.a},I=Object(j.c)({images:_.c,modal:S.a}),x=Object(w.g)(k,I),T=Object(O.a)({reducer:x,middleware:function(e){return e({serializableCheck:{ignoredActions:[w.a,w.f,w.b,w.c,w.d,w.e]}}).concat(h.a)}}),A=Object(w.h)(T);i.a.render(Object(a.jsx)(p.a,{store:T,children:Object(a.jsx)(E.a,{loading:null,persistor:A,children:Object(a.jsx)(b,{})})}),document.getElementById("root")),g(),function(e){if("serviceWorker"in navigator){if(new URL("/unsplash",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/unsplash","/service-worker.js");v?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):m(n,e)}))}}()}},[[66,2,3]]]);
//# sourceMappingURL=main.30f17bd3.chunk.js.map