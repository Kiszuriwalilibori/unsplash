{"version":3,"sources":["components/details/Trending.jsx","components/details/Header.jsx","components/SearchSection.jsx","components/ErrorMessage.jsx","components/details/SearchButton.jsx","components/details/ClearButton.jsx","components/details/NoHintsMessage.jsx","components/details/ImagesHint.jsx","components/Form.jsx"],"names":["Trending","React","props","ary","className","style","display","map","item","index","arr","length","Header","href","SearchSection","withRouter","connect","dispatch","fetchBackgroundImage","useEffect","Form","trending","ErrorMessage","MyAlert","withStyles","root","background","color","fontSize","border","boxShadow","Alert","state","isOpen","images","error","value","message","code","close","clearError","open","autoHideDuration","onClose","severity","variant","SearchButton","aria-label","width","height","version","viewBox","aria-hidden","d","ClearButton","isVisible","click","onClick","NoHintsMessage","hintsMessageVisible","classy","path","ImagesHint","hint","label","data-image_hint","hints","fetchHints","str","clearHints","fetchImages","history","useHistory","match","keydownHandler","useCallback","debounce","e","key","elements","document","querySelectorAll","Array","from","includes","textContent","push","keydowner","useForm","register","getValues","reset","onKeyDown","createFormStyleLocationRelative","onSubmit","preventDefault","type","defaultValue","onChange","pattern","autoCapitalize","placeholder","id","isClearable","menuIsOpen","selectValue","options"],"mappings":"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","file":"static/js/6.61c20f1f.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Trending = React.memo(props => {\r\n    const { ary } = props;\r\n    return (\r\n        <ul className=\"search-list\">\r\n            <li className=\"search-text search-text--smaller\" style={{ display: 'inline' }}>\r\n                Trending:{' '}\r\n            </li>\r\n            {ary.map((item, index, arr) => (\r\n                <li className=\"search-text search-text--smaller search-list-item\" key={index}>\r\n                    {index === arr.length - 1 ? item : item + ','}\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    );\r\n});\r\n\r\nexport default Trending;\r\nTrending.propTypes = { ary: PropTypes.arrayOf(PropTypes.string) };\r\n","import * as React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nconst Header = React.memo(() => {\r\n  return (\r\n    <>\r\n      <span className=\"search__unsplash\">Unsplash</span>\r\n      <h1 className=\"search__header search-text search-text--small\">\r\n        The internet’s source of\r\n        <a className=\"search__license\" href=\"https://unsplash.com/license\">\r\n          {\" \"}\r\n          freely-usable images\r\n        </a>\r\n      </h1>\r\n      <p className=\"search__motto\">Powered by creators everywhere.</p>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Form from \"./Form\";\r\nimport { trending } from \"../js/fixtures\";\r\nimport { fetchBackgroundImage } from \"../redux/imagesReducer\";\r\nimport Trending from \"./details/Trending\";\r\nimport Header from \"./details/Header\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Section = props => {\r\n  const { fetchBackgroundImage } = props;\r\n\r\n  useEffect(() => {\r\n    fetchBackgroundImage();\r\n  }, [fetchBackgroundImage]);\r\n\r\n  return (\r\n    <section className=\"search__background\">\r\n      <div className=\"form_container\" >\r\n        <Header />\r\n        <Form />\r\n        <Trending ary={trending} />\r\n        <ErrorMessage />\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchBackgroundImage: () => dispatch(fetchBackgroundImage()),\r\n});\r\n\r\nconst SearchSection = withRouter(connect(null, mapDispatchToProps)(Section));\r\nexport default SearchSection;\r\n\r\nSection.propTypes = { fetchBackgroundImage: PropTypes.func };\r\n","import * as React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { connect } from \"react-redux\";\r\nimport { clearError } from \"../redux/imagesReducer\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MyAlert = withStyles({\r\n  root: {\r\n    background: \"#688B69;\",\r\n    color: \"#F5F2AA\",\r\n    fontSize: \"1.25rem\",\r\n    border: \"1px solid 4d684d\",\r\n    boxShadow:\r\n      \"inset 0 0 5px #4d684d, 0 1px 2px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.07), 0 4px 8px rgba(0,0,0,0.07), 0 8px 16px rgba(0,0,0,0.07), 0 16px 32px rgba(0,0,0,0.07), 0 32px 64px rgba(0,0,0,0.07)\",\r\n  },\r\n})(Alert);\r\n\r\nconst Message = (props) => {\r\n  \r\n  const { isOpen, close, message } = props;\r\n\r\n  return (\r\n    <Snackbar open={isOpen} autoHideDuration={5000} onClose={close}>\r\n      <MyAlert severity=\"success\" variant=\"filled\">\r\n        Wystąpił błąd:\r\n        <br />\r\n         {message}\r\n        <br />\r\n      </MyAlert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  \r\n  close: () => dispatch(clearError()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isOpen: state.images.error.value,\r\n  message: state.images.error.code,\r\n});\r\n\r\nconst ErrorMessage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Message);\r\n\r\nexport default ErrorMessage;\r\n\r\nMessage.propTypes ={\r\n  isOpen:PropTypes.bool,\r\n  message:PropTypes.string,\r\n  close:PropTypes.func\r\n}","import * as React from 'react';\r\n\r\nconst SearchButton = () => {\r\n    return (\r\n        <button className=\"form__button\" aria-label=\"Search\">\r\n            <svg\r\n                width=\"32\"\r\n                height=\"32\"\r\n                className=\"form__svg\"\r\n                version=\"1.1\"\r\n                viewBox=\"0 0 32 32\"\r\n                aria-hidden=\"false\"\r\n            >\r\n                <path d=\"M31 28.64l-7.57-7.57a12.53 12.53 0 1 0-2.36 2.36l7.57 7.57zm-17.5-6a9.17 9.17 0 1 1 6.5-2.64 9.11 9.11 0 0 1-6.5 2.67z\"></path>\r\n            </svg>\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default SearchButton;\r\n","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst ClearButton = props => {\r\n    const { isVisible, click } = props;\r\n  \r\n    return (!!isVisible.length) ? (\r\n      <button className=\"form__input-clear\" onClick={click}>\r\n        <svg width=\"32\" height=\"32\" className=\"form__input-clear-svg\" version=\"1.1\" viewBox=\"0 0 32 32\" aria-hidden=\"false\">\r\n          <path d=\"M25.33 8.55l-1.88-1.88-7.45 7.45-7.45-7.45-1.88 1.88 7.45 7.45-7.45 7.45 1.88 1.88 7.45-7.45 7.45 7.45 1.88-1.88-7.45-7.45z\"></path>\r\n        </svg>\r\n      </button>\r\n    ) : null;\r\n  };\r\n\r\n  export default ClearButton;\r\n\r\n  ClearButton.propTypes ={\r\n    isVisible:PropTypes.string,\r\n    click:PropTypes.func,\r\n  }\r\n  ","import * as React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst HintsMessage = props => {\r\n  const { isVisible, path } = props;\r\n  const classy = (path === '/images')? \"noHints--short search-text--dark\" : 'noHints search-text--dark'\r\n  return isVisible ? <h2 className = {classy} >Nie znaleziono podpowiedzi dla wprowadzonego tekstu</h2> : null;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isVisible: state.images.hintsMessageVisible,\r\n});\r\n\r\nconst NoHintsMessage = connect(mapStateToProps)(HintsMessage);\r\nexport default NoHintsMessage;\r\n\r\n//HintsMessage.propTypes = PropTypes.string;","import * as React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nconst ImagesHint = props => {\r\n  const { hint } = props;\r\n  return hint && hint.label && hint.value ? (\r\n    <div data-image_hint={hint.value} className=\"images-hint\">\r\n      {hint.label}\r\n    </div>\r\n  ) : null;\r\n};\r\nexport default ImagesHint;\r\n\r\nImagesHint.propTypes = {hint: PropTypes.object};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useHistory, withRouter } from 'react-router';\r\nimport debounce from 'lodash/debounce';\r\nimport Select from 'react-select';\r\nimport { connect } from 'react-redux';\r\nimport { fetchImages, fetchHints, clearHints } from '../redux/imagesReducer';\r\nimport SearchButton from './details/SearchButton';\r\nimport ClearButton from './details/ClearButton';\r\nimport { createFormStyleLocationRelative } from '../js/common';\r\nimport NoHintsMessage from './details/NoHintsMessage';\r\nimport ImagesHint from './details/ImagesHint';\r\nimport PropTypes from 'prop-types';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nconst UnconnectedForm = props => {\r\n    const { fetchHints, hints, clearHints, fetchImages } = props;\r\n    const history = useHistory();\r\n\r\n    const path = props.match.path;\r\n    const fakeSubmit = e => {\r\n        e.preventDefault();\r\n        return false;\r\n    };\r\n\r\n    function keydowner(e) {\r\n        if (e.key === 'Enter') {\r\n            var elements = document.querySelectorAll(':hover');\r\n            var arr = Array.from(elements);\r\n            const item = arr[arr.length - 1];\r\n            const classname = item.className;\r\n            if (classname.includes('option')) {\r\n                fetchImages(item.textContent);\r\n                history.push('./images');\r\n            }\r\n        }\r\n    }\r\n\r\n    const keydownHandler = useCallback(\r\n        debounce(e => {\r\n            keydowner(e);\r\n        }, 300),\r\n        [],\r\n    );\r\n    const { register, getValues, reset } = useForm();\r\n\r\n    return (\r\n        <div onKeyDown={keydownHandler}>\r\n            <form className={createFormStyleLocationRelative(path, 'form')} onSubmit={fakeSubmit}>\r\n                <SearchButton />\r\n                <input\r\n                    {...register('pattern')}\r\n                    type=\"text\"\r\n                    defaultValue=\"\"\r\n                    className=\"form__input\"\r\n                    onChange={e => {\r\n                        register('pattern').onChange(e);\r\n                        fetchHints(getValues().pattern);\r\n                    }}\r\n                    autoCapitalize=\"none\"\r\n                    placeholder=\"Search free high-resolution photos\"\r\n                />\r\n                ;\r\n                <ClearButton\r\n                    isVisible={getValues().pattern || ''}\r\n                    click={e => {\r\n                        reset();\r\n                        clearHints();\r\n                    }}\r\n                />\r\n            </form>\r\n\r\n            {hints && hints.length && path === '/' ? (\r\n                <Select\r\n                    className=\"select-top\"\r\n                    id=\"BigSelect\"\r\n                    value={getValues().pattern}\r\n                    isClearable={true}\r\n                    menuIsOpen={true}\r\n                    onChange={selectValue => {\r\n                        fetchImages(selectValue.value);\r\n                        history.push('./images');\r\n                    }}\r\n                    options={hints}\r\n                />\r\n            ) : null}\r\n\r\n            {hints && hints.length && path === '/images' ? (\r\n                <div className=\"images-hints-wrapper\" id=\"images-hints-wrapper\">\r\n                    {hints.map((hint, index) => (\r\n                        <ImagesHint key={index} hint={hint} />\r\n                    ))}\r\n                </div>\r\n            ) : null}\r\n            <NoHintsMessage path={path} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchHints: str => dispatch(fetchHints(str)),\r\n    clearHints: str => dispatch(clearHints(str)),\r\n    fetchImages: str => dispatch(fetchImages(str)),\r\n});\r\n\r\nconst mapStateToProps = state => ({\r\n    hints: state.images.hints,\r\n});\r\n\r\nconst Form = withRouter(connect(mapStateToProps, mapDispatchToProps)(UnconnectedForm));\r\n\r\nexport default Form;\r\n\r\nUnconnectedForm.propTypes = {\r\n    fetchHints: PropTypes.func,\r\n    fetchImages: PropTypes.func,\r\n    clearHints: PropTypes.func,\r\n    hints: PropTypes.array,\r\n};\r\n"],"sourceRoot":""}